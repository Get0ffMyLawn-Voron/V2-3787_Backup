## Voron Design VORON2 250/300/350mm Spider TMC2209 UART config

## *** THINGS TO CHANGE/CHECK: ***
## MCU paths                           [mcu] section
## Thermistor types                    [extruder] and [heater_bed] sections - See https://www.klipper3d.org/Config_Reference.html#common-thermistors for common thermistor types
## Bed sensor_pin                      [heater_bed] section
## Fan pins                            [heater_fan hotend_fan] amd [fan] sections
## Z Endstop Switch location           [safe_z_home] section
## Homing end position                 [gcode_macro G32] section
## Z Endstop Switch  offset for Z0     [stepper_z] section
## Probe points                        [quad_gantry_level] section
## Min & Max gantry corner postions    [quad_gantry_level] section
## PID tune                            [extruder] and [heater_bed] sections
## Fine tune E steps                   [extruder] section

#####################################################################
#    INCLUDES
#####################################################################
[include config.d/*.cfg]
[include mainsail.cfg]
#[include test_probe_accuracy.cfg]
#[include config_backup.cfg]
[exclude_object]
[include K-ShakeTune/*.cfg]

#[force_move]
#enable_force_move: True
 
#####################################################################
#  MCU's
#####################################################################
[mcu]
serial: /dev/serial/by-id/usb-Klipper_stm32f446xx_140038001450325635393320-if00
restart_method: command

[mcu nhk]
##  Obtain definition by "ls -l /dev/serial/by-id/" then unplug to verify
##--------------------------------------------------------------------
serial: /dev/serial/by-id/usb-Klipper_rp2040_4E363334320E965A-if00
restart_method: command

##--------------------------------------------------------------------
[mcu expander]
serial: /dev/serial/by-id/usb-Klipper_stm32f042x6_0F0004800543304846333520-if00
restart_method: command

#####################################################################
[printer]
kinematics: corexy
max_velocity: 550  
max_accel: 6300            #Max 4000
#max_accel_to_decel: 3650
max_z_velocity: 15			#Max 15 for 12V TMC Drivers, can increase for 24V
max_z_accel: 350
square_corner_velocity: 5.0

#####################################################################
#  Beacon Probe
#####################################################################

[beacon]
serial: /dev/serial/by-id/usb-Beacon_Beacon_RevH_DEA20B1C5157355957202020FF0F1419-if00
x_offset: 0 # update with offset from nozzle on your machine
y_offset: 20 # update with offset from nozzle on your machine
mesh_main_direction: x
mesh_runs: 2

#[adxl345]
#cs_pin: nhk:gpio21
#axes_map: -z,-y,-x
#spi_software_sclk_pin: nhk:gpio18
#spi_software_mosi_pin: nhk:gpio20
#spi_software_miso_pin: nhk:gpio19

[input_shaper]
shaper_freq_x: 59.4
shaper_type_x: mzv
shaper_freq_y: 39.8
shaper_type_y: mzv

#####################################################################
#   Lights
#####################################################################
##Stealthburner Headlights
[neopixel sb_leds]
pin: nhk:gpio7
chain_count: 3
color_order: GRB
initial_RED: 1.0
initial_GREEN: 1.0
initial_BLUE: 1.0
initial_WHITE: 0.0
 

####################################################
####                TOOLHEAD LED's              ####
####################################################
## Stealthburner Headlights
#[neopixel headlight]
#pin: nhk:gpio7
#chain_count: 10
#color_order: GRB, GRB, GRB, GRB, GRB, GRB, GRB, GRB, GRBW, GRBW
#initial_RED: 1.0
#initial_GREEN: 1.0
#initial_BLUE: 1.0

## PCB Activity Light
[output_pin act_led]
pin: !nhk:gpio8

#[neopixel SB2040_led]
#pin: SB2040:RGBLED
#chain_count: 10
#color_order: GRB
#initial_RED: 1.0
#initial_GREEN: 1.0
#initial_BLUE: 1.0

#####################################################################
#   Homing and Gantry Adjustment Routines
#####################################################################

[idle_timeout]
timeout: 3600

[safe_z_home]
##  XY Location of the Z Endstop Switch
##  Update -10,-10 to the XY coordinates of your endstop pin 
##  (such as 157,305) after going through Z Endstop Pin
##  Location Definition step.
home_xy_position: 150, 150
speed:100
z_hop:3

#--------------------------------------------------------------------
#[bed_mesh]
#speed: 200
#horizontal_move_z: 15
##--------------------------------------------------------------------
##	Uncomment below for 250mm build
#mesh_min: 40, 40
#mesh_max: 210,210

##	Uncomment for 300mm build
#mesh_min: 40, 40
#mesh_max: 260,260
##--------------------------------------------------------------------
#fade_start: 0.6
#fade_end: 10.0
#probe_count: 5,5
#algorithm: bicubic
#relative_reference_index: 12
   
[quad_gantry_level]
##  Use QUAD_GANTRY_LEVEL to level a gantry.
##  Min & Max gantry corners - measure from nozzle at MIN (0,0) and 
##  MAX (250, 250), (300,300), or (350,350) depending on your printer size
##  to respective belt positions

#--------------------------------------------------------------------
##  Gantry Corners for 300mm Build
##  Uncomment for 300mm build
gantry_corners:
   -60,-10
   360,370
##  Probe points
points:
   50,25
   50,225
   250,225
   250,25

#--------------------------------------------------------------------
speed: 100
horizontal_move_z: 10
retries: 5
retry_tolerance: 0.0075
max_adjust: 10


[display]
#	mini12864 LCD Display
lcd_type: uc1701
cs_pin: PC11
a0_pin: PD2
rst_pin: PC10
encoder_pins: ^PC6,^PC7
click_pin: ^!PA8
contrast: 63
#spi_bus: spi1
spi_software_mosi_pin: PA7
spi_software_miso_pin: PA6
spi_software_sclk_pin: PA5


## 	Common Temperature Sensors
##   "PT100 INA826"
##   "EPCOS 100K B57560G104F"
##   "ATC Semitec 104GT-2"
##   "NTC 100K beta 3950"
##   "Honeywell 100K 135-104LAG-J01"
##   "NTC 100K MGB18-104F39050L32" (Keenovo Heater Pad)
##   "AD595"
##   "PT100 INA826"
##   "PT1000"

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 47.875
#*# pid_ki = 1.970
#*# pid_kd = 290.840
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 32.786
#*# pid_ki = 9.107
#*# pid_kd = 29.508
#*#
#*# [probe]
#*# z_offset = -0.440
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  0.039933, 0.038355, 0.028623, 0.021485, 0.023580, 0.024766, 0.027391, 0.028738, 0.030012, 0.031558, 0.029678, 0.025029, 0.025942, 0.028795, 0.027513, 0.022798, 0.016759, 0.019914, 0.024798, 0.027469, 0.022220, 0.018824, 0.026809, 0.032521, 0.037171
#*# 	  0.024938, 0.024206, 0.017190, 0.015791, 0.016802, 0.022156, 0.027325, 0.029853, 0.029637, 0.029859, 0.028297, 0.026482, 0.026139, 0.028377, 0.023888, 0.017443, 0.012784, 0.011162, 0.013919, 0.017132, 0.012241, 0.007476, 0.011324, 0.016412, 0.033214
#*# 	  0.019353, 0.019394, 0.013286, 0.012845, 0.017656, 0.021768, 0.027996, 0.028834, 0.026379, 0.026555, 0.024640, 0.024878, 0.025789, 0.026626, 0.020608, 0.011432, 0.007528, 0.004324, 0.004449, 0.003575, -0.001625, -0.003255, 0.001045, 0.008060, 0.013576
#*# 	  0.014109, 0.016532, 0.015542, 0.018116, 0.022430, 0.028867, 0.028786, 0.024953, 0.021992, 0.021940, 0.022319, 0.023119, 0.022160, 0.024007, 0.019792, 0.011120, 0.004376, -0.002048, -0.005050, -0.005756, -0.012572, -0.012719, -0.003744, -0.000896, 0.002325
#*# 	  0.010742, 0.010466, 0.015335, 0.022855, 0.026926, 0.031163, 0.022830, 0.018054, 0.014540, 0.016875, 0.015348, 0.016620, 0.018859, 0.019606, 0.014456, 0.004049, -0.006318, -0.009939, -0.015176, -0.016576, -0.019139, -0.018392, -0.012627, -0.009108, -0.001984
#*# 	  0.007612, 0.007788, 0.009260, 0.015302, 0.023898, 0.024720, 0.021742, 0.014285, 0.011760, 0.011625, 0.010082, 0.010984, 0.016309, 0.017070, 0.008603, -0.002717, -0.013854, -0.018068, -0.024383, -0.023145, -0.026329, -0.024083, -0.019256, -0.014109, -0.002868
#*# 	  0.008788, 0.006952, 0.004005, 0.006560, 0.015320, 0.017727, 0.017433, 0.012191, 0.009251, 0.008787, 0.008105, 0.010551, 0.015086, 0.014385, 0.005690, -0.008527, -0.020162, -0.024406, -0.022422, -0.025883, -0.026393, -0.026462, -0.021846, -0.014729, -0.005574
#*# 	  0.008270, 0.006437, 0.003132, 0.003422, 0.012250, 0.016326, 0.013587, 0.008666, 0.007411, 0.007216, 0.006968, 0.009592, 0.012863, 0.009792, 0.001774, -0.013114, -0.023071, -0.026733, -0.023416, -0.021711, -0.022604, -0.024291, -0.022085, -0.015990, -0.012609
#*# 	  0.010987, 0.008404, 0.003399, 0.006667, 0.014412, 0.017607, 0.013843, 0.008749, 0.008865, 0.009497, 0.008500, 0.010434, 0.013353, 0.011506, 0.004556, -0.008610, -0.020844, -0.024671, -0.020829, -0.016995, -0.022742, -0.022346, -0.016459, -0.014007, -0.006977
#*# 	  0.007944, 0.004644, 0.001971, 0.004897, 0.012415, 0.013419, 0.010698, 0.008664, 0.008416, 0.007642, 0.006492, 0.006517, 0.012618, 0.011741, 0.002400, -0.009255, -0.021223, -0.027215, -0.022353, -0.018704, -0.025137, -0.027253, -0.017650, -0.011203, -0.009648
#*# 	  0.008453, 0.008347, 0.004271, 0.006297, 0.015687, 0.013835, 0.011898, 0.008076, 0.005450, 0.005162, 0.002325, 0.003781, 0.006553, 0.007578, -0.002529, -0.011937, -0.024701, -0.028511, -0.027309, -0.022985, -0.024157, -0.030601, -0.019663, -0.015637, -0.013345
#*# 	  0.006370, 0.006311, 0.002355, 0.005310, 0.012491, 0.012816, 0.008036, 0.005734, 0.001624, 0.000425, -0.001704, 0.000373, -0.000435, 0.000588, -0.004936, -0.012324, -0.022422, -0.029122, -0.025472, -0.021653, -0.023266, -0.032293, -0.026702, -0.019689, -0.015945
#*# 	  0.003806, 0.002352, -0.002479, 0.002277, 0.006925, 0.005674, 0.004473, 0.003125, 0.003345, 0.002471, -0.000215, 0.001015, 0.000000, -0.002806, -0.007681, -0.012705, -0.021397, -0.027799, -0.028319, -0.024870, -0.028705, -0.030114, -0.024941, -0.018796, -0.015086
#*# 	  0.005571, 0.003801, -0.004659, -0.003228, 0.004123, 0.002946, 0.003596, 0.003684, 0.005224, 0.005155, 0.001693, 0.002449, 0.004357, 0.002169, -0.005605, -0.011914, -0.018747, -0.026239, -0.027448, -0.026782, -0.032912, -0.031413, -0.020571, -0.017841, -0.014155
#*# 	  0.010964, 0.009895, -0.004412, -0.008496, 0.000604, 0.004012, 0.003934, 0.004047, 0.002939, 0.004772, 0.005299, 0.005208, 0.005548, 0.002686, -0.001681, -0.007440, -0.016599, -0.021440, -0.023313, -0.025215, -0.031267, -0.033235, -0.022813, -0.020479, -0.016737
#*# 	  0.014163, 0.012250, -0.000684, -0.002952, 0.000763, 0.006017, 0.006917, 0.005384, 0.003114, 0.006258, 0.008627, 0.008740, 0.010681, 0.012220, 0.006720, 0.000073, -0.009024, -0.014992, -0.015723, -0.016214, -0.022997, -0.027889, -0.022619, -0.018127, -0.016070
#*# 	  0.016270, 0.014855, 0.004289, 0.002040, 0.006035, 0.009920, 0.010092, 0.008738, 0.010601, 0.013836, 0.016458, 0.017814, 0.021593, 0.025367, 0.019034, 0.009652, -0.000869, -0.007825, -0.010873, -0.009696, -0.014931, -0.024106, -0.018796, -0.015060, -0.014933
#*# 	  0.018977, 0.018005, 0.007072, 0.004326, 0.008684, 0.008592, 0.011520, 0.011914, 0.016478, 0.020094, 0.020204, 0.021031, 0.028840, 0.032057, 0.024352, 0.014011, 0.004833, -0.002537, -0.004169, -0.002358, -0.011282, -0.020565, -0.015490, -0.008613, -0.012324
#*# 	  0.017049, 0.017274, 0.006799, 0.002783, 0.007686, 0.009831, 0.011636, 0.014460, 0.019828, 0.022964, 0.025050, 0.026401, 0.033578, 0.034684, 0.025885, 0.015113, 0.005702, 0.002337, 0.001244, 0.000102, -0.010858, -0.021306, -0.013755, -0.008559, -0.013224
#*# 	  0.013683, 0.012270, 0.003752, 0.002370, 0.005995, 0.009780, 0.012370, 0.014948, 0.017657, 0.021846, 0.024260, 0.028496, 0.033367, 0.035362, 0.026987, 0.013880, 0.003893, 0.000568, 0.001248, 0.001227, -0.006984, -0.017476, -0.010944, -0.007018, -0.010550
#*# 	  0.017224, 0.010173, 0.003680, 0.004848, 0.008589, 0.012354, 0.013678, 0.015103, 0.019535, 0.023001, 0.024510, 0.027244, 0.033750, 0.034062, 0.028062, 0.017592, 0.007206, 0.002935, 0.006621, 0.008923, -0.000384, -0.006349, -0.003629, -0.003573, -0.005076
#*# 	  0.022321, 0.015389, 0.007893, 0.009593, 0.014216, 0.014919, 0.015931, 0.015546, 0.020461, 0.024501, 0.025434, 0.026019, 0.030721, 0.034318, 0.029983, 0.021910, 0.011421, 0.007314, 0.009226, 0.010968, 0.007085, 0.006014, 0.008704, 0.007576, 0.003750
#*# 	  0.022253, 0.022734, 0.014983, 0.012323, 0.015827, 0.018393, 0.017615, 0.016801, 0.020114, 0.023009, 0.023130, 0.026370, 0.032166, 0.036381, 0.034486, 0.026293, 0.015554, 0.005682, 0.002219, 0.001214, 0.004334, 0.012974, 0.018698, 0.019471, 0.014199
#*# 	  0.024309, 0.028912, 0.020443, 0.016315, 0.018958, 0.019137, 0.018440, 0.019698, 0.020856, 0.022773, 0.020815, 0.023095, 0.032681, 0.039896, 0.039746, 0.031349, 0.014343, -0.005109, -0.016416, -0.018086, -0.003788, 0.017344, 0.031362, 0.034611, 0.028957
#*# 	  0.034879, 0.036646, 0.028770, 0.021345, 0.021280, 0.020592, 0.020501, 0.023325, 0.026437, 0.024687, 0.019386, 0.023376, 0.034319, 0.041687, 0.042179, 0.033839, 0.008953, -0.020088, -0.031184, -0.020914, 0.003980, 0.028681, 0.045897, 0.050197, 0.043791
#*# tension = 0.2
#*# min_x = 40.0
#*# algo = direct
#*# y_count = 25
#*# mesh_y_pps = 0
#*# min_y = 40.0
#*# x_count = 25
#*# max_y = 260.0
#*# mesh_x_pps = 0
#*# max_x = 260.0
#*#
#*# [beacon model default]
#*# model_coef = 1.6196622841592365,
#*# 	  1.974281077677694,
#*# 	  0.7543238575362213,
#*# 	  0.25168568900472954,
#*# 	  0.15107338829252653,
#*# 	  0.19708016678339912,
#*# 	  0.006600437419020439,
#*# 	  -0.08805985884100183,
#*# 	  0.06839232620798802,
#*# 	  0.06716408702276071
#*# model_domain = 1.8846758928935787e-07,1.9385776296406537e-07
#*# model_range = 0.200000,5.000000
#*# model_temp = 51.469711
#*# model_offset = 0.17500
